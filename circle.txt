        push 10000
        pop rax
        push 0
        pop rbx

;Function <fill>
;
;Filling RAM with zeros

:fill   push 0
        pop [rbx]
        push rbx
        push 1
        add
        pop rbx
        push rbx
        push rax
        ja fill

        in
        pop rdx
        call checkr
        push rdx
        push rdx
        mul
        pop rdx
        push 1
        pop rax
        push 1
        pop rbx

;Function <draw>
;
;Fills RAM with correct values

:draw   call line
        push 1
        pop rax
        push rbx
        push 1
        add
        pop rbx
        push rbx
        push 100
        ja draw

        ramout
        hlt

;Function <line>
;
;Fills part of RAM

:line   call check
        push rax
        push 1
        add
        pop rax
        push rax
        push 200
        ja line
        ret

;Function <check>
;
;Checks which value needs to be written to RAM

:check  push rax
        push 50
        sub
        push rax
        push 50
        sub
        mul
        push rbx
        push 50
        sub
        push rbx
        push 50
        sub
        mul
        add
        push rdx
        jae do
        ret

:do     push rax
        push rbx
        push 100
        mul
        add
        pop rcx
        push 1
        pop [rcx]
        ret

;Function <checkr>
;
;Checks the radius value

:checkr push rdx
        push 50
        jb err
        ret

;Function <err>
;
;Prints error message

:err    push 69
        outc
        push 82
        outc
        push 82
        outc
        push 10
        outc
        hlt